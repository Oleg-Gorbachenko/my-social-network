{"version":3,"sources":["components/common/Paginator/Paginator.module.css","../node_modules/classnames/index.js","components/Users/Users.module.css","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Paginator","pageSize","totalItemsCount","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","useEffect","setPortionNumber","portionCount","useState","portionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","Button","onClick","name","filter","p","map","cn","selectedPage","pageNumber","User","user","follow","unfollow","followingInProgress","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","status","Users","users","totalUsersCount","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","props","onPageChangeThunkCreator","this","requestUsers","Preloader","toggleFollowingProgress","React","Component","compose","connect"],"mappings":"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","file":"static/js/3.90a7f2af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1as3b\",\"pageNumber\":\"Paginator_pageNumber__2ExQ2\",\"selectedPage\":\"Paginator_selectedPage__13TTI\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2Yqys\"};","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\nimport {Button} from \"../Button/Button\";\r\n\r\ntype PaginatorPropsType = {\r\n  pageSize: number\r\n  totalItemsCount: number\r\n  currentPage: number\r\n  portionSize?: number\r\n  onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Paginator = ({\r\n                            pageSize,\r\n                            totalItemsCount,\r\n                            currentPage,\r\n                            onPageChanged,\r\n                            portionSize = 10\r\n                          }: PaginatorPropsType) => {\r\n\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n  useEffect(() => setPortionNumber(Math.ceil(currentPage / portionSize)), [currentPage]);\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {portionNumber > 1 &&\r\n        <Button onClick={() => {\r\n          setPortionNumber(portionNumber - 1)\r\n        }} name={'PREV'}/>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => <span className={cn({\r\n          [styles.selectedPage]: currentPage === p\r\n        }, styles.pageNumber)}\r\n                          key={p}\r\n                          onClick={() => {\r\n                            onPageChanged(p)\r\n                          }}>{p}</span>)}\r\n      {portionCount > portionNumber &&\r\n        <Button onClick={() => {\r\n          setPortionNumber(portionNumber + 1)\r\n        }} name={'NEXT'}/>}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.jpg\";\r\nimport {UsersType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UsersPropsType = {\r\n  user: UsersType\r\n  follow: (userId: string) => void\r\n  unfollow: (userId: string) => void\r\n  followingInProgress: string[]\r\n}\r\n\r\nexport const User = ({\r\n                       user,\r\n                       follow,\r\n                       unfollow,\r\n                       followingInProgress,\r\n                     }: UsersPropsType) => {\r\n  return (\r\n    <div>\r\n            <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img\r\n                          src={user.photos.small || userPhoto}\r\n                          alt=\"ava\"\r\n                          className={styles.userPhoto}/>\r\n                             </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                          ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n                          }}>Unfollow</button>\r\n                          : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                          }}>Follow</button>}\r\n                    </div>\r\n            </span>\r\n      <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span><div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n            </span>\r\n    </div>)\r\n}","import React from 'react';\r\nimport {UsersType} from \"../../redux/users-reducer\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from './User';\r\n\r\ntype UsersPropsType = {\r\n  users: Array<UsersType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  follow: (userId: string) => void\r\n  unfollow: (userId: string) => void\r\n  onPageChanged: (pageNumber: number) => void\r\n  toggleFollowingProgress: (isFetching: boolean, userId: string) => void\r\n  followingInProgress: string[]\r\n}\r\n\r\nexport const Users = ({\r\n                        users,\r\n                        pageSize,\r\n                        totalUsersCount,\r\n                        currentPage,\r\n                        follow,\r\n                        unfollow,\r\n                        onPageChanged,\r\n                        followingInProgress,\r\n                      }: UsersPropsType) => {\r\n\r\n  return (\r\n    <div>\r\n      <Paginator pageSize={pageSize}\r\n                 totalItemsCount={totalUsersCount}\r\n                 currentPage={currentPage}\r\n                 onPageChanged={onPageChanged}/>\r\n      {users.map((u) => <User key={u.id}\r\n                              user={u}\r\n                              followingInProgress={followingInProgress}\r\n                              follow={follow}\r\n                              unfollow={unfollow}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React, {ComponentType} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {\r\n    follow,\r\n    onPageChangeThunkCreator,\r\n    requestUsers,\r\n    toggleFollowingProgress,\r\n    unfollow,\r\n    UsersType,\r\n} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    unfollow: (userId: string) => void\r\n    follow: (userId: string) => void\r\n    toggleFollowingProgress: (isFetching: boolean, userId: string) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n    onPageChangeThunkCreator: (pageNumber: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport class UsersContainer extends React.Component<UsersPropsType, UsersType> {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.onPageChangeThunkCreator(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader/> :\r\n                < Users totalUsersCount={this.props.totalUsersCount}\r\n                        pageSize={this.props.pageSize}\r\n                        currentPage={this.props.currentPage}\r\n                        users={this.props.users}\r\n                        onPageChanged={this.onPageChanged}\r\n                        toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                        followingInProgress={this.props.followingInProgress}\r\n                        follow={this.props.follow}\r\n                        unfollow={this.props.unfollow}\r\n                />\r\n            }\r\n        </>\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n        toggleFollowingProgress,\r\n        requestUsers,\r\n        onPageChangeThunkCreator,\r\n        unfollow,\r\n        follow,\r\n    }))(UsersContainer)"],"sourceRoot":""}