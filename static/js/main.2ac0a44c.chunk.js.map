{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/dialogs-reducer.ts","utils/objects-helper.ts","redux/users-reducer.ts","components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/preloader.gif","components/Profile/MyPosts/Post/Post.module.css","api/api.ts","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","redux/redux-store.ts","App.tsx","index.tsx","utils/validators/validators.ts","components/common/FormsControls/FormsControls.tsx","components/common/Preloader/Preloader.tsx","components/common/FormsControls/FormsControls.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css"],"names":["module","exports","initialState","dialogs","id","v1","name","messages","message","dialogsReducer","state","action","type","newMessageText","addMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","userId","followed","filter","followSuccess","unfollowSuccess","setUsers","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","usersAPI","getUsers","response","totalCount","onPageChangeThunkCreator","pageNumber","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","unfollowed","instance","axios","create","withCredentials","baseURL","headers","get","then","data","post","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","item","to","navData","isActive","active","News","Music","Settings","ProfileStatusWithHooks","props","useState","editMode","setEditMode","setStatus","useEffect","onChange","e","currentTarget","value","autoFocus","onBlur","onDoubleClick","ProfileInfo","profile","descriptionBlock","src","photos","large","alt","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","vk","github","facebook","twitter","website","instagram","mainLink","youtube","Preloader","ADD_POST","posts","likesCount","Post","MyPosts","memo","postsElements","profilePage","p","key","postBlock","AddPostReduxForm","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","minLength2","minLengthCreator","reduxForm","form","handleSubmit","Field","component","Textarea","placeholder","validate","required","MyPostsContainer","connect","addPostAC","Profile","ProfileContainer","this","router","params","navigate","getUsersProfile","React","Component","compose","location","useLocation","useNavigate","useParams","Header","styles","header","loginBlock","isAuth","onClick","setAuthUserData","getAuthUserData","HeaderContainer","auth","LoginReduxForm","error","Input","formSummaryError","length","stopSubmit","_error","formData","initialized","rootReducer","combineReducers","dialogsPage","usersPage","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","UsersContainer","App","initializeApp","Suspense","fallback","path","element","AppContainer","SamuraiJSApp","ReactDOM","render","document","getElementById","maxLength","minLength","FormControl","meta","touched","children","hasError","formControl","input","restProps","preloader"],"mappings":"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","file":"static/js/main.2ac0a44c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__17fhq\",\"item\":\"Navbar_item__Lerdi\",\"active\":\"Navbar_active__1NBPV\"};","import {v1} from \"uuid\";\r\nimport {ActionsTypes} from \"./store\";\r\n\r\nconst ADD_MESSAGE = \"dialogs/ADD-MESSAGE\"\r\n\r\nexport type MessageType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Andrey'},\r\n        {id: v1(), name: 'Oleg'},\r\n        {id: v1(), name: 'Maks'},\r\n        {id: v1(), name: 'Anton'},\r\n        {id: v1(), name: 'Viktoriya'},\r\n        {id: v1(), name: 'Dmitry'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: v1(), message: 'Hi!'},\r\n        {id: v1(), message: 'How are you!'},\r\n        {id: v1(), message: 'Yo!'},\r\n        {id: v1(), message: 'I`m fine!'}\r\n    ] as Array<MessageType>,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            return state = {\r\n                ...state,\r\n                messages: [...state.messages,{id: v1(), message: action.newMessageText}]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const addMessage = (newMessageText:string) => ({type: ADD_MESSAGE,newMessageText} as const)","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any): any => {\r\n    return items.map((u: any) => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {ActionsTypes, ThunkDispatchType} from \"./store\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objects-helper\";\r\n\r\nconst FOLLOW = \"users/FOLLOW\"\r\nconst UNFOLLOW = \"users/UNFOLLOW\"\r\nconst SET_USERS = \"users/SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nexport type UsersType = {\r\n    id: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: LocationType\r\n}\r\ntype PhotosType = {\r\n    small: string | undefined\r\n    large: string | undefined\r\n}\r\n\r\ntype LocationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\nconst initialState = {\r\n    users: [] as Array<UsersType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as string[]\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW : {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW : {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users} //возвращает 4 пользователя\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const followSuccess = (userId: string) => ({type: FOLLOW, userId} as const)\r\nexport const unfollowSuccess = (userId: string) => ({type: UNFOLLOW, userId} as const)\r\nexport const setUsers = (users: Array<UsersType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: string) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\n//thunks\r\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: ThunkDispatchType) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n}\r\n\r\nexport const onPageChangeThunkCreator = (pageNumber: number, pageSize: number) => async (dispatch: ThunkDispatchType) => {\r\n    dispatch(setCurrentPage(pageNumber))\r\n    dispatch(toggleIsFetching(true))\r\n    let response = await usersAPI.getUsers(pageNumber, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: ThunkDispatchType, userId: string, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: string) => async (dispatch: ThunkDispatchType) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.followed.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId: string) => async (dispatch: ThunkDispatchType) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollowed.bind(usersAPI), unfollowSuccess)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2nTKU\",\"item\":\"ProfileInfo_item__N6plt\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.cac6f4f6.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2aNyP\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '5b285e4d-b0fc-4ae5-ae16-e98b5fa6e386'}\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage: number, pageSize: number) => {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    followed(userId: string) {\r\n        return instance.post(`follow/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unfollowed(userId: string) {\r\n        return instance.delete(`follow/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getProfile(userId: string) {\r\n        console.warn('Obsolete method. Please use profileApI object.')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport classes from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to={'/profile/22956'} className = { navData => navData.isActive ? classes.active : classes.item }>Profile</NavLink>\r\n            </div>\r\n            <div className={`${classes.item} ${classes.active}`}>\r\n                <NavLink to={'/dialogs'} className = { navData => navData.isActive ? classes.active : classes.item }>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={'/news'} className = { navData => navData.isActive ? classes.active : classes.item }>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={'/music'} className = { navData => navData.isActive ? classes.active : classes.item }>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={'/users'} className = { navData => navData.isActive ? classes.active : classes.item }>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={'/settings'} className = { navData => navData.isActive ? classes.active : classes.item }>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\nimport classes from './News.module.css'\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport classes from './Music.module.css'\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport classes from './Settings.module.css'\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\ntype ProfileStatusProps = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks = (props: ProfileStatusProps) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {editMode\r\n                ?\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode}\r\n                           value={status}/>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <span>{'My status: '}</span>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || \"Change your status\"}</span>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport classes from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\ntype ProfileInfoProps = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileInfo = ({profile, status, updateStatus}: ProfileInfoProps) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={classes.descriptionBlock}>\r\n                <img src={profile.photos.large} alt=\"photo\"/>\r\n                <h2>{profile.fullName}</h2>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                <div>About Me: {profile.aboutMe}</div>\r\n                <div>Looking for a job: {profile.lookingForAJob}</div>\r\n                <div>Looking for a job description: {profile.lookingForAJobDescription}</div>\r\n                <div>My contacts:\r\n                    <li>{profile.contacts.vk}</li>\r\n                    <li>{profile.contacts.github}</li>\r\n                    <li>{profile.contacts.facebook}</li>\r\n                    <li>{profile.contacts.twitter}</li>\r\n                    <li>{profile.contacts.website}</li>\r\n                    <li>{profile.contacts.instagram}</li>\r\n                    <li>{profile.contacts.mainLink}</li>\r\n                    <li>{profile.contacts.youtube}</li>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {v1} from \"uuid\";\r\nimport {ActionsTypes, ThunkDispatchType} from \"./store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"profile/ADD-POST\"\r\nconst DELETE_POST = \"profile/DELETE-POST\"\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\"\r\nconst SET_STATUS = \"profile/SET_STATUS\"\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    contacts: ProfileContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: ProfilePhotosType\r\n}\r\n\r\nexport type ProfileContactsType = {\r\n    facebook: string\r\n    website: string\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string\r\n    github: string\r\n    mainLink: string\r\n}\r\n\r\nexport type ProfilePhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type InitialStateType = {\r\n    posts: Array<PostType>\r\n    profile: ProfileType | null\r\n    status: string\r\n}\r\n\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: v1(), message: 'How are you!', likesCount: 15},\r\n        {id: v1(), message: 'It\\'s my first post', likesCount: 26}\r\n    ] as Array<PostType>,\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [{id: v1(), message: action.newPostText, likesCount: 0},\r\n                    ...state.posts]\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id !== action.id)}\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const addPostAC = (newPostText: string) => ({type: ADD_POST, newPostText} as const)\r\nexport const deletePost = (id: string) => ({type: DELETE_POST, id} as const)\r\nexport const setUserProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile} as const)\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const)\r\n\r\n//thunks\r\nexport const getUsersProfile = (userId: string) => async (dispatch: ThunkDispatchType) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: ThunkDispatchType) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: ThunkDispatchType) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}","import React from \"react\";\r\nimport classes from './Post.module.css'\r\nimport {PostType} from \"../../../../redux/profile-reducer\";\r\n\r\nexport const Post = (props: PostType) => {\r\n    return (\r\n        <div>\r\n            <div className={classes.item}>\r\n                <img\r\n                    src=\"data:image/jpeg;base64,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\"\r\n                    alt=\"avatar\"/>\r\n                {props.message}\r\n                <div>\r\n                    <span>like </span>{props.likesCount}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {memo} from \"react\";\r\nimport classes from './MyPosts.module.css'\r\nimport {Post} from \"./Post/Post\";\r\nimport {MyPostsPropsType} from \"./MyPostsContainer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\nexport const MyPosts = memo((props: MyPostsPropsType) => {\r\n\r\n    const postsElements = props.profilePage.posts.map(p => <Post key={p.id}\r\n                                                                 message={p.message}\r\n                                                                 likesCount={p.likesCount}\r\n                                                                 id={p.id}/>)\r\n\r\n    const addNewPost = (values: AddPostFormType) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.postBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <AddPostReduxForm onSubmit={addNewPost}/>\r\n            </div>\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\ntype AddPostFormType = {\r\n    newPostText: string\r\n}\r\nconst maxLength10 = maxLengthCreator(10)\r\nconst minLength2 = minLengthCreator(2)\r\n\r\nexport const AddPostForm: React.FC<InjectedFormProps<AddPostFormType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name='newPostText'\r\n                    placeholder='Enter your message'\r\n                    validate={[required, maxLength10, minLength2]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst AddPostReduxForm = reduxForm<AddPostFormType>({form: 'dialogAddMessageForm'})(AddPostForm)","import React from \"react\";\r\nimport {addPostAC, InitialStateType} from \"../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    profilePage: InitialStateType\r\n}\r\ntype MapDispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nexport type MyPostsPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchPropsType => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPostAC(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from \"react\";\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profile-reducer\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const Profile = (props: ProfilePropsType) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}","import React, {ComponentType, JSXElementConstructor} from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUsersProfile, ProfileType, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsersProfile: (userId: string) => void\r\n    getStatus: (userId: string) => void\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n})\r\n\r\nexport type ProfilePropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nclass ProfileContainer extends React.Component<ProfilePropsType> {\r\n\r\n    componentDidMount() {\r\n        // @ts-ignore\r\n        let userId = this.props.router.params.userId;\r\n\r\n        if (!userId || userId === '22956') {\r\n            //@ts-ignore\r\n            this.props.router.navigate(\"/login\")\r\n        }\r\n\r\n        this.props.getUsersProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile\r\n                {...this.props}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                updateStatus={this.props.updateStatus}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\n//оболочка для классовой компоненты\r\nexport const withRouter = (Component: JSXElementConstructor<any>): JSXElementConstructor<any> => {\r\n    function ComponentWithRouterProp(props: any) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{location, navigate, params}}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {getUsersProfile, getStatus, updateStatus}),\r\n    withRouter\r\n)(ProfileContainer)\r\n","import React from \"react\";\r\nimport styles from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <img\r\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSZ9se8N-sEQ-LU7cYhO9hWVljFF3eS1vUYQ&usqp=CAU\"\r\n                alt=\"header-img\"/>\r\n            <div className={styles.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div> {props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/Login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}","import {ActionsTypes, ThunkDispatchType} from \"./store\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\"\r\n\r\nexport type authType = {\r\n    userId: number\r\n    email: string\r\n    login: string\r\n}\r\n\r\nexport type initialStateType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nexport const authReducer = (state: initialStateType = initialState, action: ActionsTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action,\r\n                isAuth: action.isAuth\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA,\r\n    userId, email, login, isAuth\r\n} as const)\r\n\r\n//thunks\r\nexport const getAuthUserData = () => async (dispatch: ThunkDispatchType) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: ThunkDispatchType) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: ThunkDispatchType) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {authType, logout} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\nclass HeaderContainer extends React.Component<AuthPropsType, authType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\ntype mapDispatchPropsType = {\r\n    logout: () => void\r\n}\r\n\r\nexport type AuthPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport styles from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'}\r\n                       name={'email'}\r\n                       component={Input}\r\n                       validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'}\r\n                       name={'password'}\r\n                       component={Input}\r\n                       validate={[required]}\r\n                       type={'password'}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field type={'checkbox'}\r\n                       name={'rememberMe'}\r\n                       component={Input}\r\n                />remember me\r\n            </div>\r\n            {error && <div className={styles.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\ntype mapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n    logout: () => void\r\n}\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\ntype LoginPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nexport const Login = (props: LoginPropsType) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Navigate to={\"/profile/22956\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n            <div>\r\n                <h3>Данные для тестового аккаунта:</h3>\r\n                <div>Email: free@samuraijs.com</div>\r\n                <div>Password: free</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);\r\n\r\n","import {ActionsTypes, ThunkDispatchType} from \"./store\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"app/INITIALIZED_SUCCESS\"\r\n\r\nexport type initialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n}\r\n\r\nexport const appReducer = (state: initialStateType = initialState, action: ActionsTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creator\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS} as const)\r\n\r\n//thunk\r\nexport const initializeApp = () => async (dispatch: ThunkDispatchType) => {\r\n    await dispatch(getAuthUserData())\r\n    dispatch(initializedSuccess())\r\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer,applyMiddleware(thunkMiddleware))\r\n\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {HashRouter, Route, Routes} from \"react-router-dom\";\r\nimport {News} from \"./components/News/News\";\r\nimport {Music} from \"./components/Music/Music\";\r\nimport {Settings} from \"./components/Settings/Settings\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp, initialStateType} from \"./redux/app-reducer\";\r\nimport {AppStateType, store} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\r\n\r\nclass App extends React.Component<AppPropsType, initialStateType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <React.Suspense fallback={<Preloader/>}>\r\n                        <Routes>\r\n                            <Route path='/dialogs/*' element={<DialogsContainer/>}/>\r\n                            <Route path='/profile/:userId' element={<ProfileContainer/>}/>\r\n                            <Route path='/news/*' element={<News/>}/>\r\n                            <Route path='/music/*' element={<Music/>}/>\r\n                            <Route path='/users/*' element={<UsersContainer/>}/>\r\n                            <Route path='/settings/*' element={<Settings/>}/>\r\n                            <Route path='/login/*' element={<Login/>}/>\r\n                        </Routes>\r\n                    </React.Suspense>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ntype mapDispatchPropsType = {\r\n    initializeApp: () => void\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport type AppPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nlet AppContainer = connect(mapStateToProps, {initializeApp})(App);\r\n\r\nconst SamuraiJSApp = () => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SamuraiJSApp;","import './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>, document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();","export const required = (value: string | number) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: Array<number>) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength: number) => (value: Array<number>) => {\r\n    if (value.length <= minLength) return 'Need more symbols'\r\n    return undefined\r\n}","import React from \"react\";\r\nimport {WrappedFieldProps} from \"redux-form\";\r\nimport styles from \"./FormsControls.module.css\";\r\n\r\nexport const FormControl: React.FC<WrappedFieldProps> = ({ meta:{touched,error}, children}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={`${styles.formControl} ${hasError ? styles.error : ''}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input}{...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><input {...input}{...restProps}/></FormControl>\r\n}","import React from 'react';\r\nimport preloader from \"../../../assets/images/preloader.gif\";\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <img src={preloader} alt=\"Fetching\"/>\r\n    );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3ggK0\",\"error\":\"FormsControls_error__2drFG\",\"formSummaryError\":\"FormsControls_formSummaryError__3SPCO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__1-3Tk\",\"posts\":\"MyPosts_posts__3HAPL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1vKf1\",\"loginBlock\":\"Header_loginBlock__1hfPO\"};"],"sourceRoot":""}